{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\badus\\\\Downloads\\\\CRUD APP (2)\\\\CRUD APP\\\\CRUD APP\\\\frontend\\\\src\\\\Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport './home.css';\nimport Movie from './components/Movie';\nimport homebtns from './components/Homebtns';\nimport { Button } from '@material-ui/core';\nconst test = \"https://api.themoviedb.org/3/discover/movie?api_key=26ba5e77849587dbd7df199727859189&language=en-US&sort_by=popularity.desc&include_adult=true&include_genres=adult&include_video=true&page=1\";\nconst FEATURED_API = \"https://api.themoviedb.org/3/discover/movie/?api_key=26ba5e77849587dbd7df199727859189&?certification_country=US&certification=R&include_adult=true&sort_by=vote_average.desc\";\nconst SEARCH_API = \"https://api.themoviedb.org/3/search/movie?api_key=26ba5e77849587dbd7df199727859189&query=\";\n\nfunction App() {\n  _s();\n\n  let token = localStorage.getItem('token');\n  const [movies, setMovies] = useState([]); // const[isLoginedin,setLogin] = useState(true)\n\n  var isLoginedin = false;\n\n  const getMovies = API => {\n    fetch(API).then(response => response.json()).then(data => {\n      setMovies(data.results); // alert(movies)\n    });\n  };\n\n  const history = useHistory();\n\n  const routeChange = () => {\n    let path = `Login`;\n    history.push(path);\n  };\n\n  const register = () => {\n    let path = `register`;\n    history.push(path);\n  };\n\n  useEffect(() => {\n    getMovies(test); // setLogin(isLoginedin = checktok())\n\n    r();\n  }, []);\n\n  function r() {\n    if (token != null) {\n      setLogin(isLoginedin = true);\n    } // return alert(\"fun\")\n    else return alert(\"none\");\n  }\n\n  const handleFormSubmit = e => {\n    e.preventDefault();\n\n    if (searchTerm) {\n      getMovies(SEARCH_API + searchTerm);\n      setSearchTerm('');\n    }\n  };\n\n  const logOut = () => {\n    localStorage.setItem('token', null);\n    this.props.history.push('/');\n  };\n\n  const handleOnChange = e => {\n    setSearchTerm(e.target.value);\n  };\n\n  const [searchTerm, setSearchTerm] = useState('');\n  const [count, setCount] = useState(2);\n\n  function showmore() {\n    setCount(count + 1);\n    const test2 = \"https://api.themoviedb.org/3/discover/movie/?api_key=26ba5e77849587dbd7df199727859189&?certification_country=US&certification=R&sort_by=vote_average.desc&include_adult=true&page=\" + count;\n    const FEATURED_API2 = \"https://api.themoviedb.org/3/discover/movie?api_key=26ba5e77849587dbd7df199727859189&language=en-US&sort_by=popularity.desc&include_adult=true&include_video=true&page=\" + count;\n    fetch(test2).then(response => response.json()).then(data => {\n      setMovies(movies.concat(data.results));\n    });\n  }\n\n  const checktok = () => {\n    if (token == null) return true;else return false;\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"diver2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 30\n    }\n  }, \"Movies \")), /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleFormSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"search\",\n    placeholder: \"Search...\",\n    type: \"search\",\n    value: searchTerm,\n    onChange: handleOnChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  })), isLoginedin ? /*#__PURE__*/React.createElement(Button, {\n    onClick: logOut,\n    className: \"button_style\",\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 28\n    }\n  }, \"Logout\") : /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 145\n    }\n  }, \"hs\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"movie-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, movies.map(movie => /*#__PURE__*/React.createElement(Movie, Object.assign({}, movie, {\n    key: movie.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"diver\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"custom-btn btn-4\",\n    onClick: showmore,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, \"show more\")));\n}\n\n_s(App, \"usTGNczIbRqXZxhzpt7OwVrAqQQ=\", false, function () {\n  return [useHistory];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","useHistory","Movie","homebtns","Button","test","FEATURED_API","SEARCH_API","App","token","localStorage","getItem","movies","setMovies","isLoginedin","getMovies","API","fetch","then","response","json","data","results","history","routeChange","path","push","register","r","setLogin","alert","handleFormSubmit","e","preventDefault","searchTerm","setSearchTerm","logOut","setItem","props","handleOnChange","target","value","count","setCount","showmore","test2","FEATURED_API2","concat","checktok","map","movie","id"],"sources":["C:/Users/badus/Downloads/CRUD APP (2)/CRUD APP/CRUD APP/frontend/src/Home.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useHistory  } from \"react-router-dom\";\r\nimport './home.css';\r\nimport Movie from './components/Movie';\r\nimport homebtns from './components/Homebtns';\r\nimport { Button } from '@material-ui/core';\r\n\r\nconst  test = \"https://api.themoviedb.org/3/discover/movie?api_key=26ba5e77849587dbd7df199727859189&language=en-US&sort_by=popularity.desc&include_adult=true&include_genres=adult&include_video=true&page=1\";\r\nconst FEATURED_API = \"https://api.themoviedb.org/3/discover/movie/?api_key=26ba5e77849587dbd7df199727859189&?certification_country=US&certification=R&include_adult=true&sort_by=vote_average.desc\"\r\nconst SEARCH_API = \"https://api.themoviedb.org/3/search/movie?api_key=26ba5e77849587dbd7df199727859189&query=\";\r\n\r\nfunction App() {\r\n  let token = localStorage.getItem('token');\r\n  const [movies, setMovies] = useState([]);\r\n  // const[isLoginedin,setLogin] = useState(true)\r\n  var isLoginedin = false\r\n\r\n  const getMovies = (API) => {\r\n    fetch(API)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        setMovies(data.results);\r\n       // alert(movies)\r\n      })\r\n  }\r\n  const history = useHistory();\r\n  const routeChange = () =>{ \r\n    let path = `Login`; \r\n    history.push(path);\r\n  }\r\n  const register = () =>{ \r\n    let path = `register`; \r\n    history.push(path);\r\n  }\r\n  useEffect(() => {\r\n    getMovies(test);\r\n    // setLogin(isLoginedin = checktok())\r\n    r()\r\n  }, [])\r\n function r(){\r\n  if (token != null){\r\n    setLogin(isLoginedin=true)\r\n  }\r\n  // return alert(\"fun\")\r\n  else\r\n    return alert(\"none\")\r\n }\r\n  const handleFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (searchTerm) {\r\n      getMovies(SEARCH_API + searchTerm);\r\n      setSearchTerm('');\r\n    }\r\n  }\r\n  const logOut = () => {\r\n    localStorage.setItem('token', null);\r\n    this.props.history.push('/');\r\n  }\r\n\r\n  const handleOnChange = (e) => {\r\n    setSearchTerm(e.target.value);\r\n  }\r\n   const [searchTerm, setSearchTerm] = useState('');\r\n  const [count,setCount] = useState(2);\r\nfunction showmore(){\r\nsetCount(count+1);\r\nconst test2 =     \"https://api.themoviedb.org/3/discover/movie/?api_key=26ba5e77849587dbd7df199727859189&?certification_country=US&certification=R&sort_by=vote_average.desc&include_adult=true&page=\"+count\r\n\r\nconst FEATURED_API2 = \"https://api.themoviedb.org/3/discover/movie?api_key=26ba5e77849587dbd7df199727859189&language=en-US&sort_by=popularity.desc&include_adult=true&include_video=true&page=\"+count;\r\nfetch(test2)\r\n.then(response => response.json())\r\n.then(data => {\r\n  setMovies(movies.concat(data.results));\r\n})\r\n}\r\nconst checktok = () =>{\r\n  if (token == null)\r\n  return true\r\n  else\r\n  return false\r\n}\r\n\r\n  return (\r\n    <div className= \"body\">\r\n    <div className='diver2'> <h1>Movies </h1></div>\r\n    \r\n      <header>\r\n        \r\n        <form onSubmit={handleFormSubmit}>\r\n          <input\r\n            className=\"search\"\r\n            placeholder=\"Search...\"\r\n            type=\"search\"\r\n            value={searchTerm}\r\n            onChange={handleOnChange}\r\n             />\r\n        </form>\r\n            {isLoginedin?  <Button onClick={logOut} className=\"button_style\"  variant=\"contained\"color=\"primary\"size=\"small\" >Logout</Button> : <h1>hs</h1> }\r\n        \r\n      </header>\r\n      <div className=\"movie-container\">\r\n        {movies.map((movie) =>\r\n          <Movie {...movie} key={movie.id} />\r\n        )}\r\n        \r\n      </div>\r\n      <div className='diver'>\r\n        <button className='custom-btn btn-4' onClick={showmore}>show more</button>\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}