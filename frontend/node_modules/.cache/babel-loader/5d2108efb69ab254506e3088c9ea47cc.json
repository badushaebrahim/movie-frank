{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\badus\\\\Downloads\\\\CRUD APP (2)\\\\CRUD APP\\\\CRUD APP\\\\frontend\\\\src\\\\Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport './home.css';\nimport Movie from './components/Movie';\nimport { Button } from '@material-ui/core';\nconst test = \"https://api.themoviedb.org/3/discover/movie?api_key=26ba5e77849587dbd7df199727859189&language=en-US&sort_by=popularity.desc&include_adult=true&include_genres=adult&include_video=true&page=1\";\nconst FEATURED_API = \"https://api.themoviedb.org/3/discover/movie/?api_key=26ba5e77849587dbd7df199727859189&?certification_country=US&certification=R&include_adult=true&sort_by=vote_average.desc\";\nconst SEARCH_API = \"https://api.themoviedb.org/3/search/movie?api_key=26ba5e77849587dbd7df199727859189&query=\";\n\nfunction App() {\n  _s();\n\n  let token = localStorage.getItem('token');\n  const [movies, setMovies] = useState([]);\n\n  const getMovies = API => {\n    fetch(API).then(response => response.json()).then(data => {\n      setMovies(data.results); // alert(movies)\n    });\n  };\n\n  const history = useHistory();\n\n  const routeChange = () => {\n    let path = `Login`;\n    history.push(path);\n  };\n\n  const register = () => {\n    let path = `register`;\n    history.push(path);\n  };\n\n  useEffect(() => {\n    getMovies(test);\n    alert;\n  }, []);\n\n  const handleFormSubmit = e => {\n    e.preventDefault();\n\n    if (searchTerm) {\n      getMovies(SEARCH_API + searchTerm);\n      setSearchTerm('');\n    }\n  };\n\n  const handleOnChange = e => {\n    setSearchTerm(e.target.value);\n  };\n\n  const [searchTerm, setSearchTerm] = useState('');\n  const [count, setCount] = useState(2);\n\n  function showmore() {\n    setCount(count + 1);\n    const test2 = \"https://api.themoviedb.org/3/discover/movie/?api_key=26ba5e77849587dbd7df199727859189&?certification_country=US&certification=R&sort_by=vote_average.desc&include_adult=true&page=\" + count;\n    const FEATURED_API2 = \"https://api.themoviedb.org/3/discover/movie?api_key=26ba5e77849587dbd7df199727859189&language=en-US&sort_by=popularity.desc&include_adult=true&include_video=true&page=\" + count;\n    fetch(test2).then(response => response.json()).then(data => {\n      setMovies(movies.concat(data.results));\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"diver2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 30\n    }\n  }, \"Movies \")), /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleFormSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"search\",\n    placeholder: \"Search...\",\n    type: \"search\",\n    value: searchTerm,\n    onChange: handleOnChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    className: \"button_style\",\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"small\",\n    className: \"button_style\",\n    onClick: routeChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: register,\n    className: \"button_style\",\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, \"Register\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"movie-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, movies.map(movie => /*#__PURE__*/React.createElement(Movie, Object.assign({}, movie, {\n    key: movie.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"diver\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"custom-btn btn-4\",\n    onClick: showmore,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, \"show more\")));\n}\n\n_s(App, \"usTGNczIbRqXZxhzpt7OwVrAqQQ=\", false, function () {\n  return [useHistory];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","useHistory","Movie","Button","test","FEATURED_API","SEARCH_API","App","token","localStorage","getItem","movies","setMovies","getMovies","API","fetch","then","response","json","data","results","history","routeChange","path","push","register","alert","handleFormSubmit","e","preventDefault","searchTerm","setSearchTerm","handleOnChange","target","value","count","setCount","showmore","test2","FEATURED_API2","concat","map","movie","id"],"sources":["C:/Users/badus/Downloads/CRUD APP (2)/CRUD APP/CRUD APP/frontend/src/Home.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useHistory  } from \"react-router-dom\";\r\nimport './home.css';\r\nimport Movie from './components/Movie';\r\nimport { Button } from '@material-ui/core';\r\n\r\nconst  test = \"https://api.themoviedb.org/3/discover/movie?api_key=26ba5e77849587dbd7df199727859189&language=en-US&sort_by=popularity.desc&include_adult=true&include_genres=adult&include_video=true&page=1\";\r\nconst FEATURED_API = \"https://api.themoviedb.org/3/discover/movie/?api_key=26ba5e77849587dbd7df199727859189&?certification_country=US&certification=R&include_adult=true&sort_by=vote_average.desc\"\r\nconst SEARCH_API = \"https://api.themoviedb.org/3/search/movie?api_key=26ba5e77849587dbd7df199727859189&query=\";\r\n\r\nfunction App() {\r\n  let token = localStorage.getItem('token');\r\n  const [movies, setMovies] = useState([]);\r\n\r\n  const getMovies = (API) => {\r\n    fetch(API)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        setMovies(data.results);\r\n       // alert(movies)\r\n      })\r\n  }\r\n  const history = useHistory();\r\n  const routeChange = () =>{ \r\n    let path = `Login`; \r\n    history.push(path);\r\n  }\r\n  const register = () =>{ \r\n    let path = `register`; \r\n    history.push(path);\r\n  }\r\n  useEffect(() => {\r\n    getMovies(test);\r\n    alert\r\n  }, [])\r\n\r\n  const handleFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (searchTerm) {\r\n      getMovies(SEARCH_API + searchTerm);\r\n      setSearchTerm('');\r\n    }\r\n  }\r\n\r\n  const handleOnChange = (e) => {\r\n    setSearchTerm(e.target.value);\r\n  }\r\n   const [searchTerm, setSearchTerm] = useState('');\r\n  const [count,setCount] = useState(2);\r\nfunction showmore(){\r\nsetCount(count+1);\r\nconst test2 =     \"https://api.themoviedb.org/3/discover/movie/?api_key=26ba5e77849587dbd7df199727859189&?certification_country=US&certification=R&sort_by=vote_average.desc&include_adult=true&page=\"+count\r\n\r\nconst FEATURED_API2 = \"https://api.themoviedb.org/3/discover/movie?api_key=26ba5e77849587dbd7df199727859189&language=en-US&sort_by=popularity.desc&include_adult=true&include_video=true&page=\"+count;\r\nfetch(test2)\r\n.then(response => response.json())\r\n.then(data => {\r\n  setMovies(movies.concat(data.results));\r\n})\r\n}\r\n  return (\r\n    <div className= \"body\">\r\n    <div className='diver2'> <h1>Movies </h1></div>\r\n    \r\n      <header>\r\n        \r\n        <form onSubmit={handleFormSubmit}>\r\n          <input\r\n            className=\"search\"\r\n            placeholder=\"Search...\"\r\n            type=\"search\"\r\n            value={searchTerm}\r\n            onChange={handleOnChange}\r\n             />\r\n        </form>\r\n            \r\n        <Button className=\"button_style\"\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        size=\"small\" className=\"button_style\"  onClick={routeChange} >Login</Button>\r\n        <Button onClick={register}\r\n        className=\"button_style\"\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        size=\"small\"\r\n        >Register</Button>\r\n      </header>\r\n      <div className=\"movie-container\">\r\n        {movies.map((movie) =>\r\n          <Movie {...movie} key={movie.id} />\r\n        )}\r\n        \r\n      </div>\r\n      <div className='diver'>\r\n        <button className='custom-btn btn-4' onClick={showmore}>show more</button>\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}